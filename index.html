<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <title>Frontend Mentor | Contact form</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Karla:ital,wght@0,200..800;1,200..800&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Karla";
    }

    body {
      background: hsl(148, 38%, 91%);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      width: 100%;
      min-height: 100vh;
    }

    .container {
      width: 40%;
      background: hsl(0, 0%, 100%);
      padding: 20px 25px;
      border-radius: 10px;
      display: flex;
      align-items: start;
      justify-content: center;
      flex-direction: column;
      margin-bottom: 10px;
    }

    h2 {
      color: hsl(187, 24%, 22%);
      margin-bottom: 20px;
    }

    .required {
      color: hsl(169, 82%, 27%);
      font-size: 14px;
      font-weight: 500;
    }

    .inputs {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: start;
      flex-wrap: wrap;
      gap: 20px;
    }

    .input {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .half {
      width: calc(50% - 10px);
    }

    .input .label {
      font-size: 13px;
      font-weight: 700;
      color: hsl(187, 24%, 22%);
    }

    .input .text {
      width: 100%;
      height: 40px;
      outline: none;
      border: solid 1px hsl(169, 82%, 27%);
      border-radius: 5px;
      padding: 5px 20px;
    }

    .input .text:hover,
    .input .text:focus {
      outline: hsl(169, 82%, 27%) auto 1px;
    }

    .input .types {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      gap: 20px;
    }

    .input .types button {
      display: flex;
      align-items: center;
      justify-content: start;
      padding: 5px 20px;
      font-size: 15px;
      font-weight: 400;
      gap: 10px;
      width: calc(50% - 10px);
      height: 40px;
      background: none;
      border-radius: 5px;
      border: solid 1px hsl(169, 82%, 27%);
      outline: none;
    }

    .input .types button .radio {
      accent-color: hsl(169, 82%, 27%);
      scale: 1.3;
      outline: none;
    }

    .input .types button:has(.radio:checked) {
      background-color: hsl(148, 38%, 91%);
    }

    .input .textarea {
      width: 100%;
      height: 70px;
      outline: none;
      border: solid 1px hsl(169, 82%, 27%);
      border-radius: 5px;
      padding: 10px 20px;
    }

    .input .textarea:hover,
    .input .textarea:focus {
      outline: hsl(169, 82%, 27%) auto 1px;
    }

    .condition {
      display: flex;
      align-items: center;
      justify-content: start;
      gap: 10px;
    }

    .condition input {
      scale: 1.2;
      accent-color: hsl(169, 82%, 27%);
    }

    .submit {
      width: 100%;
      height: 50px;
      border: none;
      border-radius: 5px;
      color: hsl(0, 0%, 100%);
      background: hsl(169, 82%, 27%);
      cursor: pointer;
      transition: 0.2s;
    }

    .submit:hover {
      background: hsl(169, 83%, 20%);
    }

    @media screen and (max-width: 1000px) {
      .container {
        width: 90%;
        margin-top: calc(100% - 90%);
      }

      .half {
        width: 100%;
      }

      .input .types {
        align-items: start;
        justify-content: center;
        flex-direction: column;
      }

      .input .types button {
        width: 100%;
      }
    }

    .error {
      color: hsl(0, 66%, 54%);
      translate: 0 -5px;
      font-size: 13px;
    }

    .success {
      position: absolute;
      top: -100px;
      padding: 10px 20px;
      height: 100px;
      background: hsl(187, 24%, 22%);
      color: #fff;
      display: flex;
      align-items: start;
      justify-content: center;
      flex-direction: column;
      border-radius: 10px;
      transition: top 0.5s;
      gap: 10px;
    }

    .success.active {
      transform: translateY(120px);
    }

    .success .top {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: 700;
      gap: 5px;
    }

    .success .top .icon {
      font-size: 20px;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="container">
    <form id="form">
      <h2>Contact Us</h2>
      <div class="inputs">
        <div class="input half">
          <span class="label">First Name <i class="required">*</i></span>
          <input type="text" class="text firstname" autocomplete="off">
          <p class="error firstname-field-required" style="display: none;">This field is required</p>
        </div>
        <div class="input half">
          <span class="label">Last Name <i class="required">*</i></span>
          <input type="text" class="text lastname" autocomplete="off">
          <p class="error lastname-field-required" style="display: none;">This field is required</p>
        </div>
        <div class="input">
          <span class="label">Email Address <i class="required">*</i></span>
          <input type="text" class="text email" autocomplete="off">
          <p class="error vaild-email" style="display: none;">Please enter a valid email address</p>
        </div>
        <div class="input type">
          <span class="label">Query Type <i class="required">*</i></span>
          <div class="types">
            <button type="button">
              <input type="radio" class="radio" name="query" value="general">
              <span class="query-type">General Enquiry</span>
            </button>
            <button type="button">
              <input type="radio" class="radio" name="query" value="support">
              <span class="query-type">Support Request</span>
            </button>
          </div>
          <p class="error no-query-type" style="display: none;">Please select a query type</p>
        </div>
        <div class="input message">
          <span class="label">Message <i class="required">*</i></span>
          <textarea name="message" class="textarea" style="resize: none;"></textarea>
          <p class="error message-field-required" style="display: none;">This field is required</p>
        </div>
        <div class="condition">
          <input type="checkbox" class="checkbox"><span>I consent to being contacted by the team <i class="required">*</i></span>
        </div>
        <p class="error not-checked" style="display: none;">To submit this form, please consent to being contacted</p>
        <button type="submit" class="submit">Submit</button>
      </div>
    </form>
  </div>

  <div class="success">
    <div class="top">
      <ion-icon class="icon" name="checkmark-circle-outline"></ion-icon><span>Message Sent!</span>
    </div>
    <p>Thanks for completing the form. We'll be in touch soon!</p>
  </div>
  
  <script>
    document.getElementById("form").addEventListener("submit", function(event) {
      event.preventDefault();

      const firstnameFieldRequired = document.querySelector(".firstname-field-required");
      const lastnameFieldRequired = document.querySelector(".lastname-field-required");
      const validEmail = document.querySelector(".vaild-email");
      const noQueryType = document.querySelector(".no-query-type");
      const messageFieldRequired = document.querySelector(".message-field-required");
      const notChecked = document.querySelector(".not-checked");
      
      const firstName = document.querySelector(".firstname");
      const lastName = document.querySelector(".lastname");
      const email = document.querySelector(".email").value;
      const radio = document.querySelectorAll("input[name='query']");
      const textarea = document.querySelector(".textarea");
      const checkbox = document.querySelector(".checkbox");

      const success = document.querySelector(".success");
      const container = document.querySelector(".container");

      let hasError = false;

      document.querySelectorAll(".error").forEach(e => e.style.display = "none");
      document.querySelectorAll(".text, .textarea").forEach(e => e.style.border = "solid 1px hsl(169, 82%, 27%)");

      if (firstName.value.trim() === "") {
        firstnameFieldRequired.style.display = "block";
        firstName.style.border = "solid 1px hsl(0, 66%, 54%)";
        hasError = true;
      }

      if (lastName.value.trim() === "") {
        lastnameFieldRequired.style.display = "block";
        lastName.style.border = "solid 1px hsl(0, 66%, 54%)";
        hasError = true;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        validEmail.style.display = "block";
        document.querySelector(".email").style.border = "solid 1px hsl(0, 66%, 54%)";
        hasError = true;
      }

      let queryChecked = false;
      radio.forEach(r => {
        if (r.checked) {
          queryChecked = true;
        }
      });
      if (!queryChecked) {
        noQueryType.style.display = "block";
        hasError = true;
      }

      if (textarea.value.trim() === "") {
        messageFieldRequired.style.display = "block";
        textarea.style.border = "solid 1px hsl(0, 66%, 54%)";
        hasError = true;
      }

      if (!checkbox.checked) {
        notChecked.style.display = "block";
        hasError = true;
      }

      if (!hasError) {
        success.classList.add("active");
      }
      else {
        success.classList.remove("active");
      }
    });

    // Optional: Add event listeners for radio buttons to handle active class
    document.querySelectorAll(".input .types button").forEach(button => {
      button.addEventListener("click", function() {
        document.querySelectorAll(".input .types button").forEach(btn => btn.classList.remove("active"));
        this.classList.add("active");
      });
    });
  </script>

  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
